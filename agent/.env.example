# =============================================================================
# Fleet Compliance Agent - Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment.
# cp .env.example .env (Linux/Mac) or copy .env.example .env (Windows)

# -----------------------------------------------------------------------------
# Agent Behavior
# -----------------------------------------------------------------------------
# Enable/disable local pytest execution before opening PRs
# Set to "false" to skip tests (faster iteration during development)
PYTEST_ENABLED=true

# Model to use for Copilot SDK (default: gpt-4o)
COPILOT_MODEL=gpt-4o

# Path to Copilot CLI executable (REQUIRED on Windows, optional on Mac/Linux)
# Windows: C:\Users\YourUser\AppData\Roaming\npm\copilot.cmd
# Mac/Linux: /usr/local/bin/copilot or ~/.npm/bin/copilot
# Find with: where.exe copilot (Windows) or which copilot (Mac/Linux)
COPILOT_CLI_PATH=C:\Users\YourUser\AppData\Roaming\npm\copilot.cmd

# Dry run mode - detect drift but don't open PRs
# Set to "true" for testing the agent without making changes
DRY_RUN=false

# -----------------------------------------------------------------------------
# MCP Server URLs
# -----------------------------------------------------------------------------
# Change Management MCP Server (approval matrix evaluation)
CHANGE_MGMT_URL=http://localhost:4101

# Security Scan MCP Server (vulnerability scanning)
SECURITY_URL=http://localhost:4102

# -----------------------------------------------------------------------------
# Azure AI Search Knowledge Base (RAG - extractive results)
# -----------------------------------------------------------------------------
# Azure AI Search endpoint URL
AZURE_AI_SEARCH_ENDPOINT=https://ai-search-vector-001.search.windows.net

# Knowledge base name (from the Azure AI Search knowledge base resource)
AZURE_AI_KB_NAME=knowledgebase-ghcp-sdk-compliance-agent

# Retrieval reasoning effort: minimal | low | medium
AZURE_AI_KB_REASONING_EFFORT=low

# Authentication uses DefaultAzureCredential (managed identity, Azure CLI, etc.)
# Ensure your identity has access to the Azure AI Search knowledge base.

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration (reference only - not used by the application)
# -----------------------------------------------------------------------------
# Azure OpenAI endpoint URL (include /openai/v1/ suffix)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/openai/v1/

# Azure OpenAI deployment name
# AZURE_OPENAI_DEPLOYMENT=gpt-4o

# API Version for Responses API with file_search
# AZURE_OPENAI_API_VERSION=2025-03-01-preview

# Vector Store ID for file search (native OpenAI vector store, NOT Azure AI Search)
# Create via POST /openai/v1/vector_stores endpoint
# AZURE_OPENAI_VECTOR_STORE_ID=vs_your_vector_store_id

# Authentication: Uses Azure DefaultAzureCredential (Managed Identity, Azure CLI, etc.)
# No API key needed - ensure your identity has "Cognitive Services OpenAI User" role

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
